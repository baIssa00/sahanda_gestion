{% extends 'base.html' %}
{% load static %}

{% block content %}
  <a href="{% url 'cotisation_create' %}" class="btn btn-primary m-3">Ajouter une cotisation</a>
  <a href="{% url 'cotisations_par_types' %}" class="btn btn-secondary m-3">Bilan Cotisation</a>

  <h1 class="mx-3">Liste des cotisations</h1>
  <div class="data_table table-responsive">
    <table id="cotisation_table" class="table table-striped table-bordered">
      <thead class="table-dark">
        <tr>
          <th>Nº</th>
          <th>Membre</th>
          <th>Montant</th>
          <th>Type Cotisation</th>
          <th>Date de paiement</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for cotisation in cotisations %}
          <tr>
            <td>{{ cotisation.id }}</td>
            <td>{{ cotisation.membre }}</td>
            <td>{{ cotisation.montant }} CFA</td>
            <td>{{ cotisation.type_cotisation }} </td>
            <td>{{ cotisation.date }}</td>
            <td>
              <a href="{% url 'cotisation_create' %}?membre={{cotisation.membre.id}}&montant={{cotisation.montant}}&date_paiement={{cotisation.date_paiement}}" class="btn btn-primary">
                Renouveler
              </a>
            </td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="5">Aucune cotisation enregistrée.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
